<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started with Achilles • Achilles</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with Achilles">
<meta property="og:description" content="Achilles">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Achilles</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/GettingStarted.html">Getting Started with Achilles</a>
    </li>
    <li>
      <a href="../articles/RunningAchilles.html">Running Achilles on Your CDM</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started with Achilles</h1>
            
            <h4 data-toc-skip class="date">2022-01-28</h4>
      
      
      <div class="hidden name"><code>GettingStarted.Rmd</code></div>

    </div>

    
    
<div class="section level1">
<h1 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h1>
<ol style="list-style-type: decimal">
<li><p>Make sure you have your data in a supported OMOP CDM format. Achilles currently supports version 5.3 and 5.4 of the OMOP CDM. (<a href="https://github.com/OHDSI/CommonDataModel" class="external-link uri">https://github.com/OHDSI/CommonDataModel</a>).</p></li>
<li><p>This package makes use of rJava. Make sure that you have Java installed. If you don’t have Java already installed on your computer (on most computers it already is installed), go to <a href="https://java.com" class="external-link">java.com</a> to get the latest version. If you are having trouble with rJava, <a href="https://stackoverflow.com/questions/7019912/using-the-rjava-package-on-win7-64-bit-with-r" class="external-link">this Stack Overflow post</a> may assist you when you begin troubleshooting.</p></li>
<li>
<p>In R, use the following commands to install Achilles.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org" class="external-link">"remotes"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>

<span class="co"># To install the master branch</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"OHDSI/Achilles"</span><span class="op">)</span>

<span class="co"># To install latest release (if master branch contains a bug for you)</span>
<span class="co"># remotes::install_github("OHDSI/Achilles@*release")  </span>

<span class="co"># To avoid Java 32 vs 64 issues </span>
<span class="co"># remotes::install_github("OHDSI/Achilles", args="--no-multiarch")  </span></code></pre></div>
</li>
<li>
<p>To run the Achilles analysis, first determine if you’d like to run the function in multi-threaded mode or in single-threaded mode. Use <code>runCostAnalysis = FALSE</code> to save on execution time, as cost analyses tend to run long.</p>
<p><strong>In multi-threaded mode</strong></p>
<p>The analyses are run in multiple SQL sessions, which can be set using the <code>numThreads</code> setting and setting scratchDatabaseSchema to something other than <code>#</code>. For example, 10 threads means 10 independent SQL sessions. Intermediate results are written to scratch tables before finally being combined into the final results tables. Scratch tables are permanent tables; you can either choose to have Achilles drop these tables (<code>dropScratchTables = TRUE</code>) or you can drop them at a later time (<code>dropScratchTables = FALSE</code>). Dropping the scratch tables can add time to the full execution. If desired, you can set your own custom prefix for all Achilles analysis scratch tables (tempAchillesPrefix).</p>
<p><strong>In single-threaded mode</strong></p>
<p>The analyses are run in one SQL session and all intermediate results are written to temp tables before finally being combined into the final results tables. Temp tables are dropped once the package is finished running. Single-threaded mode can be invoked by either setting <code>numThreads = 1</code> or <code>scratchDatabaseSchema = "#"</code>.</p>
<p>Use the following commands in R:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">Achilles</span><span class="op">)</span>
<span class="va">connectionDetails</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ohdsi.github.io/DatabaseConnector/reference/createConnectionDetails.html" class="external-link">createConnectionDetails</a></span><span class="op">(</span>
  dbms<span class="op">=</span><span class="st">"redshift"</span>, 
  server<span class="op">=</span><span class="st">"server.com"</span>, 
  user<span class="op">=</span><span class="st">"secret"</span>, 
  password<span class="op">=</span><span class="st">'secret'</span>, 
  port<span class="op">=</span><span class="st">"5439"</span><span class="op">)</span></code></pre></div>
<p><strong>Single-threaded mode</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/achilles.html">achilles</a></span><span class="op">(</span><span class="va">connectionDetails</span>, 
  cdmDatabaseSchema <span class="op">=</span> <span class="st">"cdm5_inst"</span>, 
  resultsDatabaseSchema<span class="op">=</span><span class="st">"results"</span>,
  outputFolder <span class="op">=</span> <span class="st">"output"</span><span class="op">)</span></code></pre></div>
<p><strong>Multi-threaded mode</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/achilles.html">achilles</a></span><span class="op">(</span><span class="va">connectionDetails</span>, 
  cdmDatabaseSchema <span class="op">=</span> <span class="st">"cdm5_inst"</span>, 
  resultsDatabaseSchema <span class="op">=</span> <span class="st">"results"</span>,
  scratchDatabaseSchema <span class="op">=</span> <span class="st">"scratch"</span>,
  numThreads <span class="op">=</span> <span class="fl">10</span>,
  outputFolder <span class="op">=</span> <span class="st">"output"</span><span class="op">)</span></code></pre></div>
<p>The <code>"cdm5_inst"</code> cdmDatabaseSchema parameter, <code>"results"</code> resultsDatabaseSchema parameter, and <code>"scratch"</code> scratchDatabaseSchema parameter are the fully qualified names of the schemas holding the CDM data, targeted for result writing, and holding the intermediate scratch tables, respectively. See the <a href="https://github.com/OHDSI/DatabaseConnector" class="external-link">DatabaseConnector</a> package for details on settings the connection details for your database, for example by typing</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">?</span><span class="va">createConnectionDetails</span></code></pre></div>
<p>Execution of all Achilles pre-computations may take a long time, particularly in single-threaded mode and with COST analyses enabled. See &lt;extras/notes.md&gt; file to find out how some analyses can be excluded to make the execution faster.</p>
<p>The SQL platforms supported by <a href="https://github.com/OHDSI/DatabaseConnector" class="external-link">DatabaseConnector</a> and <a href="https://github.com/OHDSI/SqlRender" class="external-link">SqlRender</a> are the <strong>only</strong> ones supported here in Achilles as <code>dbms</code>. <code>cdmVersion</code> can be <em>ONLY</em> 5.x (please look at prior commit history for v4 support).</p>
</li>
</ol>
<div class="section level2">
<h2 id="developers-how-to-add-or-modify-analyses">Developers: How to Add or Modify Analyses<a class="anchor" aria-label="anchor" href="#developers-how-to-add-or-modify-analyses"></a>
</h2>
<p>Please refer to the <a href="README-developers.html">README-developers.md file</a>.</p>
<p>(Please review the <a href="https://github.com/OHDSI/Achilles/wiki/Additional-instructions-for-Linux" class="external-link">Achilles Wiki</a> for specific details for Linux)</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>Achilles is licensed under Apache License 2.0</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Frank DeFalco, Patrick Ryan, Martijn Schuemie, Vojtech Huser, Chris Knoll, Ajit Londhe, Taha Abdul-Basser, Anthony Molinaro.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
